// src/data/sargentData.js
const sargentData = {
  "hardware": [
    {
      "category": "Exit Devices",
      "series": [
        {
          "name": "8300 Series Narrow Mortise",
          "models": [
            { "modelNumber": "8304", "description": "Night Latch, Key Retracts Latch", "baseCylinder": { "partNumber": "#46", "type": "Mortise Cylinder" }, "prefixes": [] },
            { "modelNumber": "8310", "description": "No Outside Operation (Dummy)", "baseCylinder": null, "prefixes": [] },
            { "modelNumber": "8313", "description": "Key Outside Unlocks/Locks Trim", "baseCylinder": { "partNumber": "#41", "type": "Mortise Cylinder" }, "prefixes": [] },
            { "modelNumber": "8315", "description": "Passage Only", "baseCylinder": null, "prefixes": [] },
            { "modelNumber": "8340", "description": "Freewheeling - No Outside Operation", "baseCylinder": null, "prefixes": [] },
            { "modelNumber": "8343", "description": "Freewheeling - Key Outside Unlocks/Locks", "baseCylinder": { "partNumber": "#41", "type": "Mortise Cylinder" }, "prefixes": [] },
            { "modelNumber": "8344", "description": "Freewheeling - Key Retracts Latch", "baseCylinder": { "partNumber": "#46", "type": "Mortise Cylinder" }, "prefixes": [] },
            { "modelNumber": "8375", "description": "Electrified Fail Safe", "baseCylinder": { "partNumber": "#46", "type": "Mortise Cylinder" }, "prefixes": [] },
            { "modelNumber": "8376", "description": "Electrified Fail Secure", "baseCylinder": { "partNumber": "#46", "type": "Mortise Cylinder" }, "prefixes": [] },
            { "modelNumber": "8363", "description": "Thumbpiece - Key Unlocks/Locks", "baseCylinder": { "partNumber": "#41", "type": "Mortise Cylinder" }, "prefixes": [] }
          ]
        },
        {
          "name": "8400 Series Narrow CVR",
          "models": [
            { "modelNumber": "MD8406", "description": "Key Unlocks/Locks Trim, Retracts Latch", "baseCylinder": { "partNumber": "#41", "type": "Mortise Cylinder" }, "prefixes": [] },
            { "modelNumber": "MD8410", "description": "No Outside Operation (Dummy)", "baseCylinder": null, "prefixes": [] },
            { "modelNumber": "MD8413", "description": "Key Outside Unlocks/Locks Trim", "baseCylinder": { "partNumber": "#41", "type": "Mortise Cylinder" }, "prefixes": [] },
            { "modelNumber": "MD8415", "description": "Passage Only", "baseCylinder": null, "prefixes": [] },
            { "modelNumber": "MD8440", "description": "Freewheeling - No Outside Operation", "baseCylinder": null, "prefixes": [] },
            { "modelNumber": "MD8443", "description": "Freewheeling - Key Outside Unlocks/Locks", "baseCylinder": { "partNumber": "#41", "type": "Mortise Cylinder" }, "prefixes": [] },
            { "modelNumber": "MD8446", "description": "Freewheeling - Key Unlocks/Locks, Retracts Latch", "baseCylinder": { "partNumber": "#41", "type": "Mortise Cylinder" }, "prefixes": [] },
            { "modelNumber": "MD8473", "description": "Electrified Fail Safe", "baseCylinder": null, "prefixes": [] },
            { "modelNumber": "MD8474", "description": "Electrified Fail Secure", "baseCylinder": null, "prefixes": [] }
          ]
        },
        {
          "name": "8500 Series Narrow Rim",
          "models": [
            { "modelNumber": "8504", "description": "Night Latch, Key Retracts Latch", "baseCylinder": { "partNumber": "#34", "type": "Rim Cylinder" }, "prefixes": [] },
            { "modelNumber": "8506", "description": "Key Unlocks/Locks Trim, Retracts Latch", "baseCylinder": { "partNumber": "#41", "type": "Mortise Cylinder" }, "prefixes": [] },
            { "modelNumber": "8510", "description": "No Outside Operation (Dummy)", "baseCylinder": null, "prefixes": [] },
            { "modelNumber": "8513", "description": "Key Outside Unlocks/Locks Trim", "baseCylinder": { "partNumber": "#41", "type": "Mortise Cylinder" }, "prefixes": [] },
            { "modelNumber": "8515", "description": "Passage Only", "baseCylinder": null, "prefixes": [] },
            { "modelNumber": "8540", "description": "Freewheeling - No Outside Operation", "baseCylinder": null, "prefixes": [] },
            { "modelNumber": "8543", "description": "Freewheeling - Key Outside Unlocks/Locks", "baseCylinder": { "partNumber": "#41", "type": "Mortise Cylinder" }, "prefixes": [] },
            { "modelNumber": "8544", "description": "Freewheeling - Key Retracts Latch", "baseCylinder": { "partNumber": "#34", "type": "Rim Cylinder" }, "prefixes": [] },
            { "modelNumber": "8546", "description": "Freewheeling - Key Unlocks/Locks, Retracts Latch", "baseCylinder": { "partNumber": "#41", "type": "Mortise Cylinder" }, "prefixes": [] },
            { "modelNumber": "8573", "description": "Electrified Fail Safe", "baseCylinder": null, "prefixes": [] },
            { "modelNumber": "8574", "description": "Electrified Fail Secure", "baseCylinder": null, "prefixes": [] }
          ]
        },
        {
          "name": "8600 Series CVR",
          "models": [
            { "modelNumber": "MD8606", "description": "Key Unlocks/Locks Trim, Retracts Latch", "baseCylinder": { "partNumber": "#41", "type": "Mortise Cylinder" }, "prefixes": [] },
            { "modelNumber": "MD8610", "description": "No Outside Operation (Dummy)", "baseCylinder": null, "prefixes": [] },
            { "modelNumber": "MD8613", "description": "Key Outside Unlocks/Locks Trim", "baseCylinder": { "partNumber": "#41", "type": "Mortise Cylinder" }, "prefixes": [] },
            { "modelNumber": "MD8615", "description": "Passage Only", "baseCylinder": null, "prefixes": [] },
            { "modelNumber": "MD8640", "description": "Freewheeling - No Outside Operation", "baseCylinder": null, "prefixes": [] },
            { "modelNumber": "MD8643", "description": "Freewheeling - Key Outside Unlocks/Locks", "baseCylinder": { "partNumber": "#41", "type": "Mortise Cylinder" }, "prefixes": [] },
            { "modelNumber": "MD8646", "description": "Freewheeling - Key Unlocks/Locks, Retracts Latch", "baseCylinder": { "partNumber": "#41", "type": "Mortise Cylinder" }, "prefixes": [] },
            { "modelNumber": "MD8673", "description": "Electrified Fail Safe", "baseCylinder": null, "prefixes": [] },
            { "modelNumber": "MD8674", "description": "Electrified Fail Secure", "baseCylinder": null, "prefixes": [] }
          ]
        },
        {
          "name": "8700 Series SVR",
          "models": [
            { "modelNumber": "8706", "description": "Key Unlocks/Locks Trim, Retracts Latch", "baseCylinder": { "partNumber": "#41", "type": "Mortise Cylinder" }, "prefixes": [] },
            { "modelNumber": "8710", "description": "No Outside Operation (Dummy)", "baseCylinder": null, "prefixes": [] },
            { "modelNumber": "8713", "description": "Key Outside Unlocks/Locks Trim", "baseCylinder": { "partNumber": "#41", "type": "Mortise Cylinder" }, "prefixes": [] },
            { "modelNumber": "8715", "description": "Passage Only", "baseCylinder": null, "prefixes": [] },
            { "modelNumber": "8740", "description": "Freewheeling - No Outside Operation", "baseCylinder": null, "prefixes": [] },
            { "modelNumber": "8743", "description": "Freewheeling - Key Outside Unlocks/Locks", "baseCylinder": { "partNumber": "#41", "type": "Mortise Cylinder" }, "prefixes": [] },
            { "modelNumber": "8746", "description": "Freewheeling - Key Unlocks/Locks, Retracts Latch", "baseCylinder": { "partNumber": "#41", "type": "Mortise Cylinder" }, "prefixes": [] },
            { "modelNumber": "8773", "description": "Electrified Fail Safe", "baseCylinder": null, "prefixes": [] },
            { "modelNumber": "8774", "description": "Electrified Fail Secure", "baseCylinder": null, "prefixes": [] },
            { "modelNumber": "8762", "description": "Thumbpiece - Key Unlocks/Locks, Retracts Latch", "baseCylinder": { "partNumber": "#34", "type": "Rim Cylinder" }, "prefixes": [] },
            { "modelNumber": "8763", "description": "Thumbpiece - Key Unlocks/Locks", "baseCylinder": { "partNumber": "#34", "type": "Rim Cylinder" }, "prefixes": [] }
          ]
        },
        {
          "name": "8800 Series Rim",
          "models": [
            { "modelNumber": "8804", "description": "Night Latch, Key Retracts Latch", "baseCylinder": { "partNumber": "#34", "type": "Rim Cylinder" }, "prefixes": [] },
            { "modelNumber": "8806", "description": "Key Unlocks/Locks Trim, Retracts Latch", "baseCylinder": { "partNumber": "#41", "type": "Mortise Cylinder" }, "prefixes": [] },
            { "modelNumber": "8810", "description": "No Outside Operation (Dummy)", "baseCylinder": null, "prefixes": [] },
            { "modelNumber": "8813", "description": "Key Outside Unlocks/Locks Trim", "baseCylinder": { "partNumber": "#41", "type": "Mortise Cylinder" }, "prefixes": [] },
            { "modelNumber": "8815", "description": "Passage Only", "baseCylinder": null, "prefixes": [] },
            { "modelNumber": "8816", "description": "Key Outside Retracts Latch, Inside Unlocks/Locks", "baseCylinder": { "partNumber": "#34", "type": "Rim Cylinder" }, "prefixes": [{ "id": "Inside Cyl", "description": "Inside Cylinder for 8816 Function", "addsCylinder": { "partNumber": "#44", "type": "Mortise Cylinder" }, "isDeviceSpecific": true }] },
            { "modelNumber": "8840", "description": "Freewheeling - No Outside Operation", "baseCylinder": null, "prefixes": [] },
            { "modelNumber": "8843", "description": "Freewheeling - Key Outside Unlocks/Locks", "baseCylinder": { "partNumber": "#41", "type": "Mortise Cylinder" }, "prefixes": [] },
            { "modelNumber": "8844", "description": "Freewheeling - Key Retracts Latch", "baseCylinder": { "partNumber": "#34", "type": "Rim Cylinder" }, "prefixes": [] },
            { "modelNumber": "8846", "description": "Freewheeling - Key Unlocks/Locks, Retracts Latch", "baseCylinder": { "partNumber": "#41", "type": "Mortise Cylinder" }, "prefixes": [] },
            { "modelNumber": "8873", "description": "Electrified Fail Safe", "baseCylinder": null, "prefixes": [] },
            { "modelNumber": "8874", "description": "Electrified Fail Secure", "baseCylinder": null, "prefixes": [] },
            { "modelNumber": "8875", "description": "Electrified Fail Safe with Key Override", "baseCylinder": { "partNumber": "#34", "type": "Rim Cylinder" }, "prefixes": [] },
            { "modelNumber": "8876", "description": "Electrified Fail Secure with Key Override", "baseCylinder": { "partNumber": "#34", "type": "Rim Cylinder" }, "prefixes": [] },
            { "modelNumber": "8863", "description": "Thumbpiece - Key Unlocks/Locks", "baseCylinder": { "partNumber": "#34", "type": "Rim Cylinder" }, "prefixes": [] },
            { "modelNumber": "8866", "description": "Thumbpiece - Key Outside Retracts, Inside Unlocks/Locks", "baseCylinder": { "partNumber": "#34", "type": "Rim Cylinder" }, "prefixes": [{ "id": "Inside Cyl", "description": "Inside Cylinder for 8866 Function", "addsCylinder": { "partNumber": "#44", "type": "Mortise Cylinder" }, "isDeviceSpecific": true }] }
          ]
        },
        {
          "name": "8900 Series Mortise",
          "models": [
            { "modelNumber": "8904", "description": "Night Latch, Key Retracts Latch", "baseCylinder": { "partNumber": "#46", "type": "Mortise Cylinder" }, "prefixes": [] },
            { "modelNumber": "8906", "description": "Key Unlocks/Locks Trim, Retracts Latch", "baseCylinder": { "partNumber": "#41", "type": "Mortise Cylinder" }, "prefixes": [] },
            { "modelNumber": "8910", "description": "No Outside Operation (Dummy)", "baseCylinder": null, "prefixes": [] },
            { "modelNumber": "8913", "description": "Key Outside Unlocks/Locks Trim", "baseCylinder": { "partNumber": "#41", "type": "Mortise Cylinder" }, "prefixes": [] },
            { "modelNumber": "8915", "description": "Passage Only", "baseCylinder": null, "prefixes": [] },
            { "modelNumber": "8916", "description": "Key Outside Retracts Latch, Inside Unlocks/Locks", "baseCylinder": { "partNumber": "#46", "type": "Mortise Cylinder" }, "prefixes": [{ "id": "Inside Cyl", "description": "Inside Cylinder for 8916 Function", "addsCylinder": { "partNumber": "#34", "type": "Rim Cylinder" }, "isDeviceSpecific": true }] },
            { "modelNumber": "8940", "description": "Freewheeling - No Outside Operation", "baseCylinder": null, "prefixes": [] },
            { "modelNumber": "8943", "description": "Freewheeling - Key Outside Unlocks/Locks", "baseCylinder": { "partNumber": "#41", "type": "Mortise Cylinder" }, "prefixes": [] },
            { "modelNumber": "8944", "description": "Freewheeling - Key Retracts Latch", "baseCylinder": { "partNumber": "#46", "type": "Mortise Cylinder" }, "prefixes": [] },
            { "modelNumber": "8975", "description": "Electrified Fail Safe", "baseCylinder": { "partNumber": "#46", "type": "Mortise Cylinder" }, "prefixes": [] },
            { "modelNumber": "8976", "description": "Electrified Fail Secure", "baseCylinder": { "partNumber": "#46", "type": "Mortise Cylinder" }, "prefixes": [] },
            { "modelNumber": "8963", "description": "Thumbpiece - Key Unlocks/Locks", "baseCylinder": { "partNumber": "#41", "type": "Mortise Cylinder" }, "prefixes": [] },
            { "modelNumber": "8966", "description": "Thumbpiece - Key Outside Retracts, Inside Unlocks/Locks", "baseCylinder": { "partNumber": "#34", "type": "Rim Cylinder" }, "prefixes": [{ "id": "Inside Cyl", "description": "Inside Cylinder for 8966 Function", "addsCylinder": { "partNumber": "#41", "type": "Mortise Cylinder" }, "isDeviceSpecific": true }] }
          ]
        }
      ]
    },
    {
      "category": "Mortise Locks",
      "series": [
        {
          "name": "8200 Series",
          "models": [
            { "modelNumber": "8204", "description": "Passage Function", "baseCylinder": null, "prefixes": [] },
            { "modelNumber": "8237", "description": "Storeroom Lock", "baseCylinder": { "partNumber": "#41", "type": "Mortise Cylinder" }, "prefixes": [] }
          ]
        }
      ]
    }
  ]
};

// --- START: Extracted and Categorized Cylinder Prefixes from Page 75 ---
const cylinderPrefixCategories = [
  {
    name: "Degree Key System Level 1",
    prefixes: [
      { id: "DG1-", description: "SARGENT Degree Key System Level 1 (bump resistant with patented keys)" },
      { id: "DG1-21-", description: "Degree Level 1 Construction Master Keying" },
      { id: "DG1-60-", description: "Degree Level 1 Removable Disposable Construction Core" },
      { id: "DG1-63-", description: "Degree Level 1 Removable Core" },
      { id: "DG1-64-", description: "Degree Level 1 Removable Construction Keyed LFIC" },
      { id: "DG1-65-", description: "Degree Level 1 Unassembled/uncombinated Core" },
    ]
  },
  {
    name: "Degree Key System Level 2",
    prefixes: [
      { id: "DG2-", description: "SARGENT Degree Key System Level 2 (geographically exclusive; bump and pick resistant)" },
      { id: "DG2-21-", description: "Degree Level 2 Construction Master Keying" },
      { id: "DG2-60-", description: "Degree Level 2 Removable Disposable Construction Core" },
      { id: "DG2-63-", description: "Degree Level 2 Removable Core" },
      { id: "DG2-64-", description: "Degree Level 2 Removable Construction Keyed LFIC" },
      { id: "DG2-65-", description: "Degree Level 2 Unassembled/uncombinated Core" },
    ]
  },
  {
    name: "Degree Key System Level 3",
    prefixes: [
      { id: "DG3-", description: "SARGENT Degree Key System Level 3 (geographically exclusive; UL437 certified; bump and pick resistant)" },
      { id: "DG3-21-", description: "Degree Level 3 Construction Master Keying" },
      { id: "DG3-60-", description: "Degree Level 3 Removable Disposable Construction Core" },
      { id: "DG3-63-", description: "Degree Level 3 Removable Core" },
      { id: "DG3-64-", description: "Degree Level 3 Removable Construction Keyed LFIC" },
      { id: "DG3-65", description: "Degree Level 3 Unassembled/uncombinated Core" },
    ]
  },
  {
    name: "Signature Key System",
    prefixes: [
      { id: "10-", description: "SARGENT Signature Key System (Not Available with other Key Systems)" },
      { id: "10-21-", description: "SARGENT Signature Construction Key System (Lost Ball)" },
      { id: "10-63-", description: "SARGENT Signature Large Format Interchangeable Core Cylinder (Removable)" },
    ]
  },
  {
    name: "XC-Key System",
    prefixes: [
      { id: "11-", description: "XC Key System (Not available with other Key systems unless specified)" },
      { id: "11-21-", description: "XC-Construction Key System (Lost Ball)" },
      { id: "11-60-", description: "Device to accept XC- Permanent Large Format Interchangeable Core, Disposable plastic Core- provided" },
      { id: "11-63-", description: "Device provided with XC-Large Format Interchangeable Core Cylinder - (Includes masterkeying, grand masterkeying)" },
      { id: "11-64-", description: "Device provided with Keyed construction core to accept XC- Permanent Large Format Interchangeable Core (ordered separately)" },
    ]
  },
  {
    name: "XC-Small Format Interchangeable Core (SFIC)",
    prefixes: [
      { id: "11-70-7P-", description: "Device to accept XC-SFIC (7-Pin) XC-Permanent Cores, plastic disposable core provided" },
      { id: "11-72-7P-", description: "Device to accept XC-SFIC (7-Pin Keyed Construction Core provided) cylinder Permanent core ordered separately" },
      { id: "11-73-7P-", description: "Device provided with XC- Small Format 7-Pin interchangeable core (Includes masterkeying, grand masterkeying)" },
      { id: "11-65-73-7P-", description: "Device provided to accept XC-Uncombinated 7-Pin SFIC (Permanent) Core - (Packed Loose)" },
    ]
  },
  {
    name: "Construction Key Systems (Lost Ball)",
    prefixes: [
      { id: "21-", description: "SARGENT Lost Ball Construction Keying for Conventional, XC and Signature Series (N/A with 63- or 73-)" },
    ]
  },
  {
    name: "Old Style Removable Core",
    prefixes: [
      { id: "51-", description: "Removable Core Cylinder (Old Style) provided (existing systems only)" },
      { id: "52-", description: "Removable Construction Core (Old Style) Permanent core ordered separately (existing systems only)" },
    ]
  },
  {
    name: "Large Format Interchangeable Core (LFIC)",
    prefixes: [
      { id: "60-", description: "Device to accept SARGENT Permanent Large Format Interchangeable Core, Disposable plastic Core provided (Permanent Cores ordered separately)" },
      { id: "63-", description: "Device provided with Large Format Interchangeable Core Cylinder- (Includes masterkeying, grand masterkeying)" },
      { id: "64-", description: "Device provided with Keyed construction core to accept Permanent Large Format Interchangeable Core (ordered separately)" },
    ]
  },
  {
    name: "Small Format Interchangeable Core (SFIC)",
    prefixes: [
      { id: "70-", description: "Device to accept 6 or 7-Pin SFIC Permanent Cores, plastic disposable core provided" },
      { id: "72-", description: "Device to accept 6- or 7-Pin SFIC (6-Pin Keyed Construction Core provided) Cylinder (Permanent Core ordered separately)" },
      { id: "73-", description: "Device provided with 6-Pin SFIC (Includes masterkeying, grand masterkeying)" },
      { id: "65-73-", description: "Device provided to accept Uncombinated 6-Pin SFIC (Permanent) Core - (Packed Loose for field keying)" },
      { id: "65-73-7P-", description: "Device provided to accept Uncombinated 7-Pin SFIC (Permanent) Core - (Packed Loose for field keying)" },
      { id: "73-7P-", description: "Device provided with Small Format 7-Pin Interchangeable Core (Includes masterkeying, grand masterkeying)" },
    ]
  },
  {
    name: "Keso & Kesa F1 Systems",
    prefixes: [
      { id: "81-", description: "Device provided with housings to accept Keso (83) & Keso F1 (F1-83-) removable cores. (Permanent Cores ordered separately)" },
      { id: "82-", description: "Device provided with SARGENT Keso Security Cylinder" },
      { id: "F1-82-", description: "Device provided with SARGENT Keso F1 Security Cylinder (Patented)" },
      { id: "83-", description: "Device provided with SARGENT Keso Security Removable Core cylinder" },
      { id: "F1-83-", description: "Device provided with SARGENT Keso F1 Security Removable Core cylinder (Patented)" },
      { id: "84-", description: "Device provided with SARGENT Keso Construction Cores (Permanent Cores ordered separately)" },
    ]
  },
  {
    name: "Added Security & Keyway Options",
    prefixes: [
      { id: "BR-", description: "Bump Resistant Cylinder (Available with Conventional & Conventional XC Cylinders Only)" },
      { id: "SC-", description: "Schlage C keyway cylinder, 0 bitted" },
      { id: "SE-", description: "Schlage E keyway cylinder, 0 bitted" },
    ]
  }
];
// --- END: Extracted and Categorized Cylinder Prefixes from Page 75 ---


// --- START: Universal Device-Specific Prefixes ---
const universalDevicePrefixes = [
    { "id": "16", "description": "Cylinder Dogging", "addsCylinder": { "partNumber": "#41", "type": "Mortise Cylinder" }, "isDeviceSpecific": true },
    { "id": "59", "description": "Delayed Egress", "addsCylinder": { "partNumber": "#41", "type": "Mortise Cylinder", "notes": "For alarm control." }, "isDeviceSpecific": true },
    { "id": "AL", "description": "Alarmed Exit", "addsCylinder": { "partNumber": "#41", "type": "Mortise Cylinder", "notes": "For alarm kit control." }, "isDeviceSpecific": true }
];
// --- END: Universal Device-Specific Prefixes ---


// Loop through all hardware, series, and models to add the prefixes
sargentData.hardware.forEach(category => {
  category.series.forEach(series => {
    series.models.forEach(model => {
      // Add universal device-specific prefixes to each model
      model.prefixes = [...model.prefixes, ...universalDevicePrefixes];

      const existingPrefixIds = new Set(model.prefixes.map(p => p.id));
      
      let allNewCylinderPrefixes = [];
      cylinderPrefixCategories.forEach(cat => {
        cat.prefixes.forEach(cylPrefix => {
          if (!existingPrefixIds.has(cylPrefix.id)) {
            allNewCylinderPrefixes.push({
              ...cylPrefix,
              isDeviceSpecific: false,
              addsCylinder: null // Cylinder prefixes modify, they don't add a separate cylinder
            });
          }
        });
      });

      // Append new cylinder prefixes to the existing ones
      model.prefixes = [...model.prefixes, ...allNewCylinderPrefixes];
    });
  });
});

// Export both sargentData and cylinderPrefixCategories
export { sargentData, cylinderPrefixCategories };